<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>배열에 대해 알아보자</title>
</head>
<body>
    <h2>배열 활용하기</h2>
    <p>
        1. js의 배열은 java List와 유사하다. <br>
        2. 배열저장소에는 다양한 type의 값을 저장할 수 있다. <br>
        3. 인덱스번호로 배열에 있는 값을 출력하고, 배열에 값을 저장할 수 있다. <br>
        4. 길이제한이 없고, 자동으로 증가 *공간에 대해 미리 설정할 필요가 없다. <br>
        5. js배열은 Array오브젝4트로 편의 메소드(함수)를 제공한다.
    </p>
    <script>
        // 배열 선언하기
        // 1. 리터럴로 선언하기 : [], [값, 값, 값 , ...]
        // 2. 생성자로 선언하기 : new Array(), new Array(값, 값, 값, ..)
        let arr = [];
        let arr2 = new Array();
        console.log(arr, typeof arr);
        console.log(Object.prototype.toString.call(arr));
        console.log(arr2, typeof arr2);
        console.log(Object.prototype.toString.call(arr2));
        // ECMA6 배열여부 확인하기
        console.log(Array.isArray(arr));
        console.log(Array.isArray(10));

        // 생성과 동시에 초기화하기
        arr = [1, 2, 3, 4, 5];
        arr2 = new Array('가', '나', '다', '라', '마');
        console.log(arr);
        console.log(arr2);
        arr=['가', 10, true, [1,2,3,4], {name:"유병승", age:19}, ()=>{console.log('배열내부함수')}];
        console.log(arr);

        // 배열에 값 대입하기
        arr[0] = "유병승";
        arr[1] = 19;
        arr[2] = ["키보드", "모니터", "최주영"];
        arr[3] = (msg)=>console.log(msg);
        console.log(arr);

        // 배열에 들어간 함수 호출하기
        arr[3]("여러분 파이팅!");
        console.log(arr[2][0]); // 키보드(2차원 배열)

        // 길이의 제한이 없다.
        arr=[];
        console.log(arr);
        arr[0]="김현영 할수없따........";
        console.log(arr);
        arr[1] = 100;
        console.log(arr);
        arr[10] = 180.5;
        console.log(arr);
        console.log(arr[8]); //undefined
        console.log(arr[13]); //undefined
        console.log(arr); // 증가 안됨 그대로.

        // 배열의 길이를 확인하기
        console.log(arr.length);

        // 반복문 이용해서 배열에 있는 값 순회하기
        for(let i = 0; i < arr.length; i++){
            console.log(arr[i]);
        }
        // for of문 이용하기 -> java for(변수 : 배열) 유사
        for(let e of arr){
            console.log(e);
        }
    </script>

    <h2>배열객체가 제공하는 함수 활용하기</h2>
    <h3>indexOf("찾을값") : 매개변수로 전달된 값과 일치하는 요소를 찾아 인덱스번호를 반환</h3>
    <script>
        let names = ["유병승", "최주영", "김현영", "이은지", "허성현", "김찬은"];
        console.log(names.indexOf("이은지"));
        console.log(names.indexOf("최인호")); // -1 출력
        if(names.indexOf("최인호") != -1){ // ~ 있다면
            console.log('git을 무리없이 사용할 수 있다');
        } else {
            console.log('git 하지말자!');
        }
    </script>

    <h3>concat() : 두 개 이상의 배열을 합쳐주는 기능</h3>
    <script>
        let food = ["윤셰프", "밥뜨랑", "스시초이", "짜장면", "카레"];
        let animal = ["강아지", "고양이", "고래", "토끼", "사자"];
        // for(let i = food.length, j = 0; j < animal.length; i++, j++){
        //     food[i]=animal[j];
        // }
        let result = food.concat(animal);
        console.log(result); // 원본값 수정 x, 새로운 배열 생성
        console.log(food);
        console.log(animal);
    </script>

    <h3>join() : 배열을 문자열로 변경해주는 기능</h3>
    <script>
        result = food.join(",");
        console.log(result, typeof result);
    </script>

    <h3>reverse() : 배열의 순서를 반대로 변경해주는 기능</h3>
    <script>
        console.log(food);
        food.reverse(); // 원본값 변경
        console.log(food); 
    </script>

    <h3>배열의 데이터를 조작하는 함수들!</h3>
    <p>
        배열에 값을 추가, 수정, 삭제 함수
    </p>
    <script>
        let fruit = ["사과", "바나나", "딸기", "망고", "샤인머스켓", "스테비아"];
    </script>

    <h4>push() : 배열의 마지막 인덱스에 값을 추가하는 함수</h4>
    <script>
        console.log(fruit);
        fruit.push("레몬");
        console.log(fruit);
        fruit.push("낑깡"); // 원본값 변경
        console.log(fruit);

        let datas = []; // let datas; 는 x, undefined에는 push()메소드가 없음
        datas.push("java");
    </script>

    <h4>pop() : 배열의 마지막 인덱스 값을 삭제하는 함수</h4>
    <script>
        console.log(fruit);
        console.log(fruit.pop()); // 원본값 변경, 반환해줌("낑깡")
        console.log(fruit);

        // while(fruit.length > 0){
        //     console.log(fruit.pop()); // 하나씩 모두 반환
        // }
        // console.log(fruit);
    </script>

    <h4>shift() : 0번 인덱스에 있는 값을 삭제하는 함수</h4>
    <script>
        console.log(fruit);
        console.log(fruit.shift()); // 원본값 변경
        console.log(fruit);
    </script>

    <h4>unshift() : 0번 인덱스에 값을 추가하는 함수</h4>
    <script>
        console.log(fruit);
        fruit.unshift("포도");
        console.log(fruit);
    </script>

    <h4>slice() : 배열의 일부 인덱스를 복사해서 새로운 배열로 만들어주는 함수</h4>
    <p>
        slice(시작인덱스[, 끝인덱스]); 
    </p>
    <script>
        console.log(fruit);
        result = fruit.slice(3); // 원본값 수정 x, 새로운 배열 생성
        console.log(result);
        console.log(fruit); 
        result = fruit.slice(2, 4);
        console.log(result);
    </script>

    <h4>splice() : 배열의 특정 위치의 값을 삭제하고, 지정 위치에 새로운 값을 추가하는 기능</h4>
    <p>
        splice(시작인덱스, 지울개수[, 추가할 값, 추가할 값, ..]);
    </p>
    <script>
        console.log(fruit);
        // fruit.splice(2, 2); // 원본값 변경
        console.log(fruit);
        // fruit.splice(2, 2, "유병승", "김찬은");
        console.log(fruit);
        fruit.splice(4, 0, "김현영", "이은지"); // 원하는 위치에 값 추가
        console.log(fruit);
    </script>

    <h4>includes() : 배열의 값 중 매개변수와 일치하는 값이 있는지 확인해주는 기능</h4>
    <script>
        console.log(fruit.includes("최주영")); // false
        console.log(fruit.includes("레몬")); // true
    </script>

    <h4>배열에 있는 데이터를 순회해서 데이터를 조작하는 함수들!</h4>
    <p>
        find() : 배열에서 원하는 데이터 한 개를 찾아서 반환해주는 기능 -> 단일값<br>
        filter() : 배열에서 원하는 다수의 데이터를 찾아서 반환해주는 기능 -> 배열<br>
        map() : 배열의 데이터를 원하는 방식으로 조작하여 배열로 반환하는 기능<br>
        forEach() : 배열의 모든 데이터를 순회하는 기능(반환x) <br>
        reduce() : 배열에 특정값을 기준으로 누적시켜주는 함수<br>
        sort() : 배열의 정렬을 해주는 함수<br>
        * 위 함수들은 매개변수로 함수를 전달받아서 처리한다.
    </p>
    <div id="lunchMenu"></div>
    <script>
        let height = [183.5, 168.4, 180.5, 195.3, 174.3, 175.2, 182.5, 180.5];

    // find() : 매개변수함수 -> (value, index, oriArray) => return boolean;
        result = height.find(function(v, i, o){ 
            // 한 개의 값 하나 찾으면 바로 리턴, 뒤에꺼 확인 안함
            console.log(v, i, o);
            return v < 175;
        });
        console.log(result);
        // result = height.find(v => v<170);

    // filter() : (value, index, oriArray) => return boolean;
        // return값이 true인 모든 요소 반환
        result = height.filter((v,i,o) =>{
            // return v > 180;
            return i % 2 == 0;
        });
        // 다수 값 -> 배열로 반환
        // result = height.filter(v => v>180);
        // result = height.filter((v,i) => i%2==0);

        // console.log(result);
        // let result2 = [];
        // for(let i = 0; i<height.length; i++){
        //     if(height[i]>180){
        //         result2.push(height[i]);
        //     }
        // }

    // map 활용하기 -> 원본 배열의 데이터를 새로운 데이터를 갖는 배열로 생성
        // 매개변수 : (value, index, oriArray) => return value;
        console.log(food);
        result = food.map((v,i,o) => "<p>" + v + "</p>");
        result = food.map((v,i) => ({id:i, name:v}));
        result = food.map(v => {
            const $p = document.createElement("p");
            $p.innerText = v;
            return $p;
        });
        console.log(result);
        result.forEach(v=>{
            document.querySelector("#lunchMenu").appendChild(v);
        });

    // forEach() : 배열에 있는 모든 데이터를 순회하는 함수 (java : stream().forEach(e->{}))
        // 매개변수 : (value, index, oriArray) => return 없음!
        food.forEach((v,i,o) => console.log(v,i));
        height.forEach(v=>console.log(v));

    // reduce() : 누적, 최대최소를 확인할 수 있는 함수
        // reduce(function(preValue, nextValue){return value}[,initValue]);
        // return value -> preValue로 감
        let salary = [100, 200, 800, 250, 350, 400];

        // 누적
        result = salary.reduce((prevVal, nextVal) => {return prevVal+nextVal});
        console.log(result);

        // 최대값
        result = salary.reduce((prevVal, nextVal) => prevVal>nextVal ? prevVal : nextVal);
        console.log(result);

        // initValue
        result = salary.reduce((prev, next) => {prev.push(next*100); return prev;}, []);
        // [] 배열이 prev에 들어감(push사용가능)
        console.log(result);

        // sort() : 정렬하기
        // (prev, next) => {return +||-||0;}
        console.log(height);

        // 오름차순
        height.sort((prev, next) => prev-next);
        console.log(height);

        // 내림차순
        height.sort((prev, next) => next-prev);
        console.log(height);

        // 문자열 정렬
        let strArr = ["가", "하", "나", "마", "라", "카", "다"];
        console.log(strArr[0]>strArr[1], strArr[0]<strArr[1]); // false, true 출력
        strArr.sort((prev, next)=>{
            if(prev>next) return 1;
            else if(prev<next) return -1;
            else return 0;
        });
        console.log(strArr);
    </script>
    
    


</body>
</html>